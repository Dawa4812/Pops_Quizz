{% extends 'base.html' %}
{% block content %}
	
	<div class="col-lg-8 col-md-8 col-sm-8 col-xs-8 background_body typo_generale">
		<h1>{{ form.name }}</h1>
	  	<h5>{{ form.description }}</h5>

	  	{% if form.author is not None %}
	  		<h6>Créé par {{ form.author.login }}</h6>
	  	{% else %}
	  		<h6>Créé par teampopsquizz</h6>
	  	{% endif %}

	  	<fieldset class="fdst_border"><legend class="lgd_style">Nouvelle partie</legend>
  			<form action="{% url 'Quizz:openform' form.id %}" method="post">
		      	{% csrf_token %}
				<label for="game_name">Nom de la partie : </label>
				<input type="text" value="Partie de {{request.session.login}}" id="game_name" name="game_name">
				<br>
				<label for="slot_max">Nombre de joueur : </label>
				<input type="number" id="slot_max" name="slot_max" value="1" min="1" onclick="privee()" >
				<br>
				<label for="is_public">Rendre la partie publique : </label>
				<input type="checkbox" id="is_public" unchecked disabled name="is_public">
				<br>
				<label id="info" class="">Attention, il faut plus d'un joueur pour rendre la partie publique.</label>
				<br>
				<div class="droite">
					<button type="submit"  id="subbtn" class="btn btn-success connectBtn">VALIDER</button>
					<button type="reset"  id="resbtn" class="btn btn-danger connectBtn">ANNULER</button>
				</div>
			</form>
		</fieldset>
	</div>

	<!-- Si la partie ne contient qu'un joueur, elle est forcément privée -->
	<script>
		function privee(){
			var saisie =document.getElementById("slot_max").value;
			var ckb_public = document.getElementById("is_public");
			var info = document.getElementById("info");
			if (saisie == 1) {
				ckb_public.disabled = true;
				ckb_public.checked = false;
				info.className = '';
			} else {
				ckb_public.disabled = false;
				info.className = 'hidden';
			}
		}
	</script>

{% endblock %}